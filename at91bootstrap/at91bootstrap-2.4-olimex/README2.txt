I have done some modification of AT91-Bootstrap and this
version is now available at www.at91.com in the 
"AT91 Buildroot" project. Also put a patch there, 
which is a merger of AVR32/AT91 patches for 2.6.20.4

The merged patch was generated by patching 2.6.20.4 with the 
* maxim.org.za/at91_26.html
* AVR32 patches from avr32linux.org
* Experimental patches from www.at91.com
The main conflict was in the driver/spi/atmel_spi.c.

AT91-Bootstrap or similar is needed if you want to load U-Boot
from Dataflash or NAND flash.  Note that this is an 
unofficial version, and is not supported by Atmel.

The major change I have done is to add a few subroutines
to allow the at91-bootstrap to build without a C library.
(memset,memcpy,udiv) - udiv() is an unsigned version of div()

Previous versions had to be built using a statically linked 
C library, making it unfriendly to buildroot, as well as
to the "supported" TimeSys gcc compilers.

If you use this version, You should be able to be built by any
gcc compiler including those found at www.timesys.com and
the compilers generated by buildroot.

The Makefile has undergone drastic changes to allow easy use.

Instead of walking down a directory tree and make 
the file at the bootom of the tree,
you configure AT91-Bootstrap before use

----------------------------------------------------------
$ make at91sam9260ek_defconfig
$ make

should be enough to build the (default) dataflash version
for at91sam9260.

----------------------------------------------------------
$ make MEMORY=NANDFLASH at91sam9260ek_defconfig
$ make

should build the NAND flash version

----------------------------------------------------------
at91-bootstrap supports

at9sam9260ek	dataflash and NAND flash
at9sam9261ek	dataflash and NAND flash
at9sam9263ek	dataflash

----------------------------------------------------------
If you want a toolchain that builds at91-bootstrap you can do

$ make toolchain	# downloads buildroot and builds gcc
$ source gcc-2.4.6-uclibc.sh
$ make at91sam9260ek_defconfig
$ make

This will take some time though (1-2 hours)...

----------------------------------------------------------
./MAKEALL

will download buildroot and build a gcc-3.4.6/binutils 2.16.1
toolchain and continue to build all version of at91-bootstrap.

Has only been tested to run under Linux (OpenSuse 10.1)

